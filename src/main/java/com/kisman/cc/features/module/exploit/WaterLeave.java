package com.kisman.cc.features.module.exploit;

import com.kisman.cc.features.module.Category;
import com.kisman.cc.features.module.Module;
import com.kisman.cc.settings.Setting;
import com.kisman.cc.util.chat.cubic.ChatUtility;
import net.minecraft.init.Blocks;
import net.minecraft.util.math.BlockPos;

public class WaterLeave extends Module {
    private final Setting height = register(new Setting("Heigth", this, 1, 1, 20, false));

    public WaterLeave() {
        super("WaterLeave", "WaterLeave", Category.EXPLOIT);
    }

    public void onEnable() {
        if(mc.player == null || mc.world == null) return;

        boolean flag = false;

        if(mc.world.getBlockState(new BlockPos(mc.player.posX, mc.player.posY - 0.95, mc.player.posZ)).getBlock() == Blocks.WATER){
            mc.player.motionY = height.getValDouble();
            mc.player.onGround = true;
            flag = true;
        }
        if(mc.player.isInWater() || mc.player.isInLava()){
            mc.player.onGround = true;
            flag = true;
        }

        if(!flag) ChatUtility.error().printClientModuleMessage("No liquid!!!");

        super.setToggled(false);
    }
}
