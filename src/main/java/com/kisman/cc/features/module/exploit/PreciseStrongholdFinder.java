package com.kisman.cc.features.module.exploit;

import com.kisman.cc.features.module.Category;
import com.kisman.cc.features.module.Module;
import com.kisman.cc.features.module.WorkInProgress;
import com.kisman.cc.util.chat.cubic.ChatUtility;
import net.minecraft.util.math.BlockPos;
import net.minecraft.world.gen.structure.MapGenStronghold;

@WorkInProgress
public class PreciseStrongholdFinder extends Module {

    public static MapGenStronghold MAP_GEN_STRONGHOLD = null;

    public PreciseStrongholdFinder(){
        super("PreciseStrongholdFinder", Category.EXPLOIT);
    }

    @Override
    public void onEnable() {
        super.onEnable();
        if(mc.world == null || mc.player == null)
            return;
        if(MAP_GEN_STRONGHOLD == null){
            ChatUtility.error().printClientModuleMessage("Could not resolve the chunk generator");
            return;
        }
        BlockPos pos = MAP_GEN_STRONGHOLD.getNearestStructurePos(mc.world, new BlockPos(mc.player.posX, mc.player.posY, mc.player.posZ), true);
        if(pos == null){
            ChatUtility.error().printClientModuleMessage("Error whilst finding a stronghold");
            return;
        }
        ChatUtility.complete().printClientModuleMessage("Successfully found a stronghold at: X: " + pos.getX() + ", Y: " + pos.getY() + ", Z: " + pos.getZ());
        this.toggle();
    }
}
