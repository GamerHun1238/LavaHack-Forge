package com.kisman.cc.module.exploit;

import com.kisman.cc.module.Category;
import com.kisman.cc.module.Module;
import com.kisman.cc.settings.Setting;
import net.minecraft.network.play.client.CPacketPlayer;

import java.util.ArrayList;
import java.util.Arrays;

public class Teleport extends Module {
    private Setting mode = new Setting("TPMode", this, "Coords", new ArrayList<>(Arrays.asList("Coords", "Players")));


    private Setting playerLine = new Setting("PlayerLine", this, "Players");

    private Setting nick = new Setting("NickName", this, "NickName", "NickName", true);


    private Setting xCoord = new Setting("XCoord", this, "0", "0", true);
    private Setting yCoord = new Setting("XCoord", this, "0", "0", true);
    private Setting zCoord = new Setting("XCoord", this, "0", "0", true);

    public Teleport() {
        super("Teleport", "Teleport", Category.EXPLOIT);

        setmgr.rSetting(mode);

        setmgr.rSetting(playerLine);
        setmgr.rSetting(nick);

        setmgr.rSetting(xCoord);
        setmgr.rSetting(yCoord);
        setmgr.rSetting(zCoord);
    }

    public void onEnable() {
        if(mode.getValString().equalsIgnoreCase("Coords")) {
            try {
                int x = Integer.parseInt(xCoord.getValString());
                int y = Integer.parseInt(yCoord.getValString());
                int z = Integer.parseInt(zCoord.getValString());

                mc.player.connection.sendPacket(new CPacketPlayer.Position(x, y, z, false));
                mc.player.connection.sendPacket(new CPacketPlayer.Position(x, y, z, true));
                mc.player.connection.sendPacket(new CPacketPlayer.Position(x, y, z, true));

                super.onDisable();
            } catch (Exception e) {
                super.onDisable();
            }
        } else if(mode.getValString().equalsIgnoreCase("Players")) {

        }
    }
}
