package com.kisman.cc.module.exploit;

import com.kisman.cc.Kisman;
import com.kisman.cc.event.events.PacketEvent;
import com.kisman.cc.module.Category;
import com.kisman.cc.module.Module;
import com.kisman.cc.settings.Setting;
import com.kisman.cc.util.InventoryUtil;
import me.zero.alpine.listener.EventHandler;
import me.zero.alpine.listener.Listener;
import net.minecraft.init.Items;
import net.minecraft.item.ItemBow;
import net.minecraft.item.ItemStack;
import net.minecraft.network.play.client.CPacketPlayerTryUseItem;
import net.minecraft.util.EnumHand;
import net.minecraft.util.NonNullList;

public class BowExploit extends Module {
    public static BowExploit instance;

    public int one = 1;
    public int two = 1;

    public BowExploit() {
        super("BowExploit", "BowExploit", Category.EXPLOIT);

        instance = this;

        Kisman.instance.settingsManager.rSetting(new Setting("1", this, 250, 1, 1000, true));
        Kisman.instance.settingsManager.rSetting(new Setting("2", this, 250, 1, 1000, true));
    }

/*    public void update() {
        this.one = (int) Kisman.instance.settingsManager.getSettingByName(this, "1").getValDouble();
        this.two = (int) Kisman.instance.settingsManager.getSettingByName(this, "2").getValDouble();
    }*/

    public void onEnable() {

    }

    public void update() {
        if(InventoryUtil.holdingItem(ItemBow.class)) {
            NonNullList<ItemStack> stack = mc.player.inventory.mainInventory;

            if(stack.get(mc.player.inventory.getBestHotbarSlot()).getItem() == Items.BOW) {
                ItemBow bow = (ItemBow) stack.get(mc.player.inventory.getBestHotbarSlot()).getItem();

                for(int i = 0; i <= 500; i++) {
                    mc.player.connection.sendPacket(new CPacketPlayerTryUseItem(EnumHand.MAIN_HAND));
                }
            }
        }
    }
}
